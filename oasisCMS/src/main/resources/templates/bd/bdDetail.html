<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout.html}">
<head>
<meta charset="UTF-8">
<title>게시판 상세 조회</title>
<script>
function checkSession() {
		
		let jsSession = "[[${session.memberId}]]";
		console.log(jsSession);

		// 세션확인 있으면 > 로그인ok > 글쓰기 화면으로
		
	}
	
    // 수정 버튼 클릭 시 확인 창 표시
    function confirmUpdate() {
    	if (confirm("수정하시겠습니까?")) {
        // 확인 버튼을 클릭한 경우 수정 컨트롤러로 이동
          window.location.href = "/bd/updateBd?bdId=[[${bdDTO.bdId}]]";
        }
    }

    // 삭제 버튼 클릭 시 확인 창 표시
    function confirmDelete() {
        if (confirm("삭제하시겠습니까?")) {
            // 확인 버튼을 클릭한 경우 삭제 컨트롤러로 이동
            window.location.href = "/bd/deleteBd";
        }
    }
    
    // 로그인시 글쓰기 버튼 보이기
    function checkSession() {
		jsSession = "[[${session.memberId}]]";
		console.log(jsSession);
		
	// 세션확인 있으면 > 로그인ok > 글쓰기 화면으로
		if (jsSession != "") {
			location.href = "/bd/createBd";
		} 
	}
    
</script>


</head>
<body>
<div layout:fragment="content">
	<div align="left" >
		<h3>게시글 상세조회</h3>
		<hr>
		<div> 
		
		제목 | <span style="width:200px " th:text="${bdDTO.title}">제목</span>| <br>
		작성자 | <span th:text="${bdDTO.memberNick}">작성자</span>| <br>
		조회수 | <span th:text="${bdDTO.readCnt}"></span>|<br>
		작성일 | <span th:text="${#dates.format(bdDTO.createDt, 'yy-MM-dd hh:mm:ss')}"></span>|<br>
		
		<div>내용<span th:text="${bdDTO.content}"></span></div>
		</div>
		<hr>
		<div align="right" class="mybtn" th:if="${session.memberId == bdDTO.memberId}">
			<input type="button" value="수정" th:onclick="|location.href='@{/bd/updateBd}'|"/>
			<input type="button" value="삭제" th:onclick="|location.href='@{/bd/deleteBd}'|"/>
		</div>
		
		<div align="right" class="mybtn" th:if="${session.memberId != null}">
			<input type="button" value="글쓰기" th:onclick="checkSession()"/>
		</div>
		
		<div>
			<input type="button" value="목록보기" th:onclick="|location.href='@{/bd/main}'|">
		</div>
	</div>
</div>
</body>
</html>